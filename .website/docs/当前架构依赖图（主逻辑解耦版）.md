```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           index.html          â”‚
â”‚  - layout / sidebar / content â”‚
â”‚  - settings UI / modal        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ DOM ç»‘å®š
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            main.js            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  å¯åŠ¨å±‚ï¼ˆBootstrapï¼‰          â”‚
â”‚  - DOMContentLoaded           â”‚
â”‚  - showLocalFileWarning()     â”‚
â”‚  - initSidebar()              â”‚
â”‚  - initSidebarSearch()        â”‚
â”‚  - handleRoute(hash)          â”‚
â”‚                               â”‚
â”‚  è·¯ç”±å±‚ï¼ˆRouterï¼‰             â”‚
â”‚  - hashchange                 â”‚
â”‚  - handleRoute()              â”‚
â”‚                               â”‚
â”‚  å†…å®¹æ¸²æŸ“å±‚ï¼ˆContent Engineï¼‰ â”‚
â”‚  - renderContent(rec)         â”‚
â”‚    * fetch(md/html)           â”‚
â”‚    * marked.parse(md)         â”‚
â”‚    * innerHTML(html)          â”‚
â”‚                               â”‚
â”‚  åŠ¨ç”»æ§åˆ¶å±‚ï¼ˆAnimation Ctrlï¼‰ â”‚
â”‚  - globalAnimSettings         â”‚
â”‚  - applyAnimSettings()        â”‚
â”‚  - quickSetAnim()             â”‚
â”‚                               â”‚
â”‚  UI æ§åˆ¶å±‚ï¼ˆUI / Modalï¼‰      â”‚
â”‚  - openModal() / closeModal() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ æ•°æ®ä¾èµ–
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            data.js            â”‚
â”‚  - COURSE_DATA               â”‚
â”‚    * config                   â”‚
â”‚    * sections / items         â”‚
â”‚                               â”‚
â”‚  âš  ä»…æä¾›â€œç»“æ„åŒ–æ•°æ®â€        â”‚
â”‚    ä¸åŒ…å«ä»»ä½•é€»è¾‘             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ é…ç½®è¯»å–
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           config.js           â”‚
â”‚  - baseUrl                    â”‚
â”‚  - welcomeTemplate            â”‚
â”‚  - errorTemplate              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            md.js              â”‚
â”‚  - marked.parse()             â”‚
â”‚  âš  çº¯å·¥å…·åº“ï¼Œæ— çŠ¶æ€           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…³é”®è§£è€¦ç‚¹è¯´æ˜ï¼ˆå·¥ç¨‹çº§ï¼‰

### 1ï¸âƒ£ å†…å®¹ç³»ç»Ÿæ˜¯**ç‹¬ç«‹ä¸»å¹²**
- renderContent(rec) åªä¾èµ–ï¼š
  - rec.mdPath
  - fetch
  - markedï¼ˆå¯é€‰ï¼‰
- **ä¸ä¾èµ–ï¼šsidebar / idx / UI / animation æ˜¯å¦å­˜åœ¨**

### 2ï¸âƒ£ ç´¢å¼•ç³»ç»ŸåªæœåŠ¡äºã€Œå¯¼èˆªä¸é«˜äº®ã€
- ALL / VISIBLE / idx
- ä¸å‚ä¸å†…å®¹ fetch
- idx é”™ â‰  é¡µé¢ç™½å±

### 3ï¸âƒ£ åŠ¨ç”»ç³»ç»Ÿæ˜¯â€œåŒ…è£¹å±‚â€ï¼Œä¸æ˜¯â€œå‰ç½®æ¡ä»¶â€
- fetch æ°¸è¿œä¼šæ‰§è¡Œ
- åŠ¨ç”»åªå½±å“ï¼šopacity / transform
- åŠ¨ç”»å¤±æ•ˆ â‰  å†…å®¹å¤±æ•ˆ

### 4ï¸âƒ£ UI è®¾ç½®æ˜¯ Animation Controller çš„â€œå®¢æˆ·ç«¯â€
- å³ä¾§å¿«é€Ÿèœå•
- Modal æ»‘å—
- **éƒ½åªè°ƒç”¨ applyAnimSettings()**
- æ²¡æœ‰ UI â†’ åŠ¨ç”»ä»ç„¶æœ‰é»˜è®¤å€¼

---

## å•ç‚¹å¤±æ•ˆåˆ†æï¼ˆSPOFï¼‰

| æ¨¡å— | æŒ‚æ‰åæœ |
|----|----|
| data.js | èœå•ç©ºï¼Œä½† hash ä»å¯ç›´è¾¾ |
| md.js | Markdown ä¸æ¸²æŸ“ï¼ŒHTML æ­£å¸¸ |
| åŠ¨ç”»æ¨¡å— | é¡µé¢æ— åŠ¨ç”»ï¼Œä½†å†…å®¹æ­£å¸¸ |
| sidebar | é¡µé¢å¯ç”¨ï¼Œåªæ˜¯æ— æ³•ç‚¹èœå• |

ğŸ‘‰ **å”¯ä¸€çœŸæ­£çš„ä¸»é€»è¾‘æ˜¯ï¼šrenderContent + router**

---

å¦‚æœä½ æ„¿æ„ï¼Œä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ï¼š
- æŠŠ Content Engine å•ç‹¬æŠ½æˆ content-engine.js
- ç»™ä½ ç”»ã€Œæ—§æ¶æ„ vs æ–°æ¶æ„ã€å¯¹æ¯”å›¾
- æˆ–è€…æ ‡å‡ºæœªæ¥æœ€å®‰å…¨çš„æ‰©å±•ç‚¹ï¼ˆåŠ¨ç”» / æƒé™ / ç™»å½•ï¼‰

